---
title: 前端学习笔记系列-6.CSS选择器优先级以及样式冲突
author: CitrixWu
date: 2016-8-9
tags: [CSS,CSS选择器,样式冲突]
categories: blog
---
### 问题描述
> 样式的层级关系，选择器优先级，样式冲突，以及抽离样式模块怎么写，说出思路，有无实践经验

通常我们可以将CSS的优先级由高到低分为==六组==：
- 无条件优先的属性只需要在属性后面使用 !important 。它会覆盖页面内任何位置定义的元素样式。当然，IE 6不支持这个属性，于是它也成为一种hack被很多人所熟知，真正使命被人淡忘。
- 第二高位的优先属性是在html中给元素标签加style。由于该方法会造成CSS的难以管理，所以不推荐使用。
- 第三级优先的属性是由一个或多个id选择器来定义的。例如 #id{margin:0;} 会覆盖 .classname{margin:3px;}。
- 第四级的属性由一个或多个 类选择器、属性选择器、伪类选择器定义。如 .classname{margin:3px;} 会覆盖 div{margin:6px;}类选择器
- 第五级由一个或多个 类型选择器定义。如 div{margin:6px;}  覆盖  *{margin:10px;} 。
- 最低一级的选择器是为一个通配选择器，用*{margin:10px;}这样的类型来定义。


----------------------------------------------------------


另外，可以用一句极为简单的话来描述CSS优先级问题：当一个CSS选择器拥有更多的高级别属性时，它的优先级就会比较高。如 #i100 *.c20 *.c10{} 的优先级就会高于 #i100 *.c10 div p span em{} ，这是由于前者拥有一个第三级和两个第四级的选择器而后者第三级和第四级的选择器各为一个，当然前者优先级会比较高。
CSS选择器是一个非常灵活的CSS属性，优雅的使用它会使你的页面代码不再臃肿，而且还可以作为hack的妙用方法之一。
当比较多个相同级别的CSS选择器优先级时，它们定义的位置将决定一切。下面从位置上将CSS优先级由高到低分为六级：
位于<head/>标签里的<style/>中所定义的CSS拥有最高级的优先权。
第二级的优先属性由位于 <style/>标签中的 @import 引入样式表所定义。
第三级的优先属性由<link/>标签所引入的样式表定义。
第四级的优先属性由<link/>标签所引入的样式表内的 @import 导入样式表定义。
第五级优先的样式有用户设定。
最低级的优先权由浏览器默认。
理解了这些CSS优先级问题后，也就不必苦恼于样式定于中的此类问题了。


### 选择器分类
类选择器：.className {margin:100px;}
属性选择器：a[href] {margin:100px;}  带有href属性的a标签
伪类选择器：p:hover {margin:100px;} p标签的hover事件，已经定义好的事件：hover，active，visited，link
提示：在 CSS 定义中，a:hover 必须被置于 a:link 和 a:visited 之后，才是有效的。
提示：在 CSS 定义中，a:active 必须被置于 a:hover 之后，才是有效的。
提示：伪类名称对大小写不敏感。


### CSS样式冲突解决方法：
解决方法有很多，如果可以对html改动的话，就给你需要细化的页面元素加多一个class或者ID就行了，当然这种方法应该不是你想要的。那么接下来是不改变HTML的情况下，直接用css的方法来实现你想要的效果——
#### 方法一 细化选择符
假如全局是这样来定义一个元素的样式的：.abc {background:#000}，同时这个class为abc的元素是隶属于某个元素的，比如下面这样的html代码结构
```
<div class="container">
    <div class="abc"></div>
</div>
```
那么在细化css里面，只需要在.abc前面加多一个父元素的选择符就行了：
.container .abc {background:#fff}
这样.container .abc的优先级就大于了.abc，自然细化css里面的background设置也就不会被全局CSS覆盖了~~

#### 方法二 提升样式的优先级
这种方法个人不太推荐，相对而言会简单粗暴一些。同样是上面的例子，在细化CSS里面，只要在样式后面加一个!important，例如这样：
```.abc {background:#fff !improtant;}```
这个样式的优先级就会默认提升到顶级，全局样式就无法影响到它了。

#### 方法三 改变两个样式的加载顺序
这种方法比较简单，就是只要把细化css加载在全局css之后就行了，这样后面的样式就会自动覆盖前面的样式。不过如果你的html里面这两个样式表的加载顺序是先细化后全局的话，就要稍微调整一下代码才行。
